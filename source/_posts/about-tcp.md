---
title: TCP 简略笔记
date: 2020-11-24 15:06:03
tags:
hide: true
---

#### TCP与UDP的区别
- TCP是面向连接的， UDP是无连接的（只管发送）
- TCP是可靠的， UDP不可靠（UDP接收方收到报文后，不需要给出任何确认）
- TCP只支持点对点通信，UDP支持一对一、一对多、多对一、多对多；
- TCP是面向字节流的，UDP是面向报文的
  面向字节流是指发送数据时以字节为单位，一个数据包可以拆分成若干组进行发送，而UDP一个报文只能一次发完。
- TCP有拥塞控制机制，UDP没有。网络出现的拥塞不会使源主机的发送速率降低，这对某些实时应用是很重要的，比如媒体通信，游戏
- TCP Heaader开销（20字节）比UDP开销（8字节）要大
- UDP 的主机不需要维持复杂的连接状态表

#### 什么时候选择TCP，什么时候选UDP？
对某些实时性要求比较高的情况，选择UDP，比如游戏，媒体通信，实时视频流（直播），即使出现传输错误也可以容忍；其它大部分情况下，HTTP都是用TCP，因为要求传输的内容可靠，不出现丢失

#### TCP如何保证传输的可靠性

- 数据包校验
- 对失序数据包重新排序（TCP报文具有序列号）
- 丢弃重复数据
- 应答机制：接收方收到数据之后，会发送一个确认（通常延迟几分之一秒）；
- 超时重发：发送方发出数据之后，启动一个定时器，超时未收到接收方的确认，则重新发送这个数据；
- 流量控制：确保接收端能够接收发送方的数据而不会缓冲区溢出

#### 一些问题
- HTTP可以使用UDP吗？
HTTP不可以使用UDP，HTTP需要基于可靠的传输协议，而UDP不可靠



------
#### 参考
[TCP与UDP的区别](https://github.com/wolverinn/Waking-Up/blob/master/Computer%20Network.md#tcp%E4%B8%8Eudp%E7%9A%84%E5%8C%BA%E5%88%AB)